# üîç –ê—É–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ Telegram Bot SferaTC

> **–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è:** 01.12.2025  
> **–í–µ—Ä—Å–∏—è –±–æ—Ç–∞:** 2.0  
> **–¶–µ–ª—å:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Å—Ç–∞–≤–∏—Ç—å, –∞ –∫–∞–∫–æ–π —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Sfera AI

---

## üìä –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
SferaTC Bot/
‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ admin/        # –ê–¥–º–∏–Ω—Å–∫–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏  
‚îÇ   ‚îú‚îÄ‚îÄ user/         # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ common        # –û–±—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ services/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ mini_app/         # –¢–µ–∫—É—â–µ–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

---

## üéØ –¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞

### 1Ô∏è‚É£ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**

#### ‚úÖ –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **`/start`** - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –ø–æ–∫–∞–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
  - üìç –§–∞–π–ª: `handlers/common_handlers.py`
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞)
  - üìù –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç welcome –≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

- **`/help`** - –°–ø—Ä–∞–≤–∫–∞
  - üìç –§–∞–π–ª: `handlers/common_handlers.py`
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨**
  - üìù –ü—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –±–æ—Ç–∞

#### üìö –û–±—É—á–µ–Ω–∏–µ
- **`/training`** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–π—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ"
  - üìç –§–∞–π–ª: `handlers/common_handlers.py`
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–ù–ê –†–ê–°–°–ú–û–¢–†–ï–ù–ò–ï** ‚ö†Ô∏è
  - üìù –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—É—á–∞—é—â–∏–π –±–æ—Ç ChatGPT
  - ü§î **–í–æ–ø—Ä–æ—Å:** –ù—É–∂–Ω–æ –ª–∏ —ç—Ç–æ, –µ—Å–ª–∏ —É –Ω–∞—Å –±—É–¥–µ—Ç Sfera AI?
  - üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Sfera AI

#### üß† –ò–ò-–ü—Å–∏—Ö–æ–ª–æ–≥
- **`/psychologist`** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ò–ò-–ø—Å–∏—Ö–æ–ª–æ–≥"
  - üìç –§–∞–π–ª: `handlers/common_handlers.py`
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–£–î–ê–õ–ò–¢–¨** ‚ùå
  - üìù –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –ò–ò-–ø—Å–∏—Ö–æ–ª–æ–≥–∞
  - üí° **–ü—Ä–∏—á–∏–Ω–∞:** Sfera AI –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ä–æ–ª—å –ø—Å–∏—Ö–æ–ª–æ–≥–∞!

#### üí¨ ChatGPT
- **`/chatgpt`** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π ChatGPT"
  - üìç –§–∞–π–ª—ã: 
    - `handlers/user/chatgpt_handler.py` (525 —Å—Ç—Ä–æ–∫!)
    - `services/chatgpt_service.py` (315 —Å—Ç—Ä–æ–∫)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–£–î–ê–õ–ò–¢–¨** ‚ùå
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —á–∞—Ç —Å ChatGPT —á–µ—Ä–µ–∑ OpenRouter API
    - –°—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π
    - –°–∏—Å—Ç–µ–º–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤
    - Circuit breaker –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏
  - üí° **–ü—Ä–∏—á–∏–Ω–∞:** Sfera AI –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è–µ—Ç —ç—Ç–æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª!
  - üí∞ **–≠–∫–æ–Ω–æ–º–∏—è:** ~840 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

#### üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **`/tools`** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"
  - üìç –§–∞–π–ª: `handlers/tools_handlers.py` (152 —Å—Ç—Ä–æ–∫–∏)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨** ‚úÖ
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –î–∏—Å–∫–æ–Ω—Ç–Ω—ã–µ –±—Ä–æ–∫–µ—Ä—ã (Tiger.com, Vataga Crypto, Whitelist)
    - –°–∫—Ä–∏–Ω–µ—Ä—ã —Ä—ã–Ω–∫–∞
    - –¢–æ—Ä–≥–æ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã
    - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è ping
  - üí° **–ü—Ä–∏—á–∏–Ω–∞:** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - üîß **–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

#### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
- **`/support`** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥–¥–µ—Ä–∂–∫–∞"
  - üìç –§–∞–π–ª: `handlers/user/support_handler.py` (193 —Å—Ç—Ä–æ–∫–∏)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–ù–ê –†–ê–°–°–ú–û–¢–†–ï–ù–ò–ï** ‚ö†Ô∏è
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –ò–ò-–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ ChatGPT (LLM)
    - –≠—Å–∫–∞–ª–∞—Ü–∏—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
    - –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
  - ü§î **–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Sfera AI –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏?
  - üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 
    - **–í–∞—Ä–∏–∞–Ω—Ç –ê:** –£–¥–∞–ª–∏—Ç—å LLM-–ø–æ–¥–¥–µ—Ä–∂–∫—É, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —ç—Å–∫–∞–ª–∞—Ü–∏—é –∫ –∞–¥–º–∏–Ω—É
    - **–í–∞—Ä–∏–∞–Ω—Ç –í:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Sfera AI + –∫–Ω–æ–ø–∫–∞ —Å–≤—è–∑–∏ —Å –∞–¥–º–∏–Ω–æ–º
  - üí∞ **–≠–∫–æ–Ω–æ–º–∏—è:** –î–æ 193 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ (–µ—Å–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å)

#### üé´ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏** (–ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è)
  - üìç –§–∞–π–ª: `handlers/verification_handlers.py` (316 —Å—Ç—Ä–æ–∫)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨** ‚úÖ
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –ó–∞–ø—Ä–æ—Å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
    - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - üí° **–ü—Ä–∏—á–∏–Ω–∞:** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–∞–∂–Ω–∞ –¥–ª—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã

---

### 2Ô∏è‚É£ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

#### üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- **`/admin`** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "üëë –ê–¥–º–∏–Ω–∫–∞"
  - üìç –§–∞–π–ª: `handlers/admin_handlers.py` (362 —Å—Ç—Ä–æ–∫–∏)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨** ‚úÖ
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã (`/status`)
    - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`/stats`)
    - –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–æ–∫ (broadcast)
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### üì§ –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–æ–∫
- **Broadcast —Å–∏—Å—Ç–µ–º–∞**
  - üìç –§–∞–π–ª: `handlers/admin/broadcast.py` (116 263 –±–∞–π—Ç! ~2500 —Å—Ç—Ä–æ–∫!)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨** ‚úÖ
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
    - –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏ (–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)
    - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å—Å—ã–ª–æ–∫
    - –û—Ç–º–µ–Ω–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    - –ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - üí° **–ü—Ä–∏—á–∏–Ω–∞:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
  - ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª, –≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–µ–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

#### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **User Management**
  - üìç –§–∞–π–ª: `handlers/admin/user_management.py` (9 139 –±–∞–π—Ç)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨** ‚úÖ
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    - –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
    - –ë–∞–Ω/—Ä–∞–∑–±–∞–Ω
    - –ü—Ä—è–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
    - –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **Stats —Å–∏—Å—Ç–µ–º–∞**
  - üìç –§–∞–π–ª: `handlers/admin/stats.py` (4 799 –±–∞–π—Ç)
  - ‚ú® –°—Ç–∞—Ç—É—Å: **–û–°–¢–ê–í–ò–¢–¨** ‚úÖ
  - üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
    - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ)
  - üí° **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–æ—Å—Ç–∞

---

### 3Ô∏è‚É£ **–°–µ—Ä–≤–∏—Å—ã –∏ —É—Ç–∏–ª–∏—Ç—ã**

#### üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------|------|--------|--------|-------------|
| **ChatGPT Service** | `services/chatgpt_service.py` | 15 044 | ‚ùå –£–î–ê–õ–ò–¢–¨ | –ó–∞–º–µ–Ω—è–µ—Ç—Å—è Sfera AI |
| **State Manager** | `services/state_manager.py` | 3 118 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ FSM |
| **Notifier** | `services/notifier.py` | 4 345 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω—É |
| **Broadcast Scheduler** | `services/broadcast_scheduler.py` | 30 885 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏ |
| **Cache Service** | `services/cache_service.py` | 6 882 | ‚ö†Ô∏è –ü–†–û–í–ï–†–ò–¢–¨ | In-memory –∫–µ—à, –≤–æ–∑–º–æ–∂–Ω–æ –ª–∏—à–Ω–∏–π |
| **Rate Limiter** | `services/rate_limiter.py` | 3 509 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ |
| **Error Handler** | `services/enhanced_error_handler.py` | 8 522 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ |
| **Input Validator** | `services/input_validator.py` | 5 268 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ |
| **Database Optimizer** | `services/database_optimizer.py` | 5 225 | ‚ö†Ô∏è –ü–†–û–í–ï–†–ò–¢–¨ | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î, –Ω—É–∂–µ–Ω –ª–∏? |
| **User Service** | `services/user_service.py` | 1 033 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ |
| **Async User Service** | `services/async_user_service.py` | 1 091 | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ | Async –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —é–∑–µ—Ä–∞–º–∏ |

#### üì¶ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ú–æ–¥–µ–ª–∏:**
- `models/user.py` - –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚úÖ
- `models/broadcast.py` - –ú–æ–¥–µ–ª—å —Ä–∞—Å—Å—ã–ª–æ–∫ ‚úÖ
- `models/crud.py` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (15 498 –±–∞–π—Ç) ‚úÖ
- `models/async_crud.py` - Async CRUD (9 454 –±–∞–π—Ç) ‚úÖ

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:** –í—Å—ë –æ—Å—Ç–∞–≤–∏—Ç—å, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- –ò—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å—Å—ã–ª–æ–∫
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

### 4Ô∏è‚É£ **Mini App (—Ç–µ–∫—É—â–µ–µ)**

#### üì± –°—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `mini_app/public/`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
```
mini_app/public/
‚îú‚îÄ‚îÄ index.html         # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ combined.css       # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ new_app.js         # –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ css/               # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ js/                # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îî‚îÄ‚îÄ test-*.html        # –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê SFERA AI**

**–î–µ–π—Å—Ç–≤–∏–µ:**
1. –£–¥–∞–ª–∏—Ç—å –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `mini_app/public/`
2. –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã–π frontend Sfera AI
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ –Ω–∞ "ü§ñ Sfera AI"

---

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π: –ß—Ç–æ —É–¥–∞–ª–∏—Ç—å

### üóëÔ∏è –§–∞–π–ª—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∫ —É–¥–∞–ª–µ–Ω–∏—é:

#### 1. ChatGPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
```bash
handlers/user/chatgpt_handler.py          # 21 463 –±–∞–π—Ç
services/chatgpt_service.py                # 15 044 –±–∞–π—Ç
```
**–ò—Ç–æ–≥–æ:** ~36 507 –±–∞–π—Ç (~840 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)

#### 2. –ò–ò-–ü—Å–∏—Ö–æ–ª–æ–≥ (—É–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ —Å—Å—ã–ª–∫–∏ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å)
```bash
# –í handlers/common_handlers.py
# –§—É–Ω–∫—Ü–∏—è show_psychologist_menu - —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
```

#### 3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ (—É–ø—Ä–æ—Å—Ç–∏—Ç—å)
```bash
handlers/user/support_handler.py
# –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —ç—Å–∫–∞–ª–∞—Ü–∏—é –∫ –∞–¥–º–∏–Ω—É
# –£–±—Ä–∞—Ç—å –ò–ò-–ø–æ–¥–¥–µ—Ä–∂–∫—É —á–µ—Ä–µ–∑ ChatGPT
```
**–≠–∫–æ–Ω–æ–º–∏—è:** ~100-150 —Å—Ç—Ä–æ–∫

#### 4. –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∑–∞–º–µ–Ω–∏—Ç—å)
```bash
mini_app/public/*                          # –í—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
```

#### 5. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
```python
# –í config.py —É–±—Ä–∞—Ç—å:
- SUPPORT_LLM_SYSTEM_PROMPT
- SUPPORT_LLM_HISTORY_LIMIT
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ChatGPT –º–æ–¥–µ–ª–µ–π (—á–∞—Å—Ç–∏—á–Ω–æ, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã)
```

#### 6. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
```python
# –í main.py —É–¥–∞–ª–∏—Ç—å:
- CommandHandler("chatgpt", show_chatgpt_menu)
- CommandHandler("stop_chat", stop_chatgpt_session)
- MessageHandler –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π ChatGPT"
# –£–ø—Ä–æ—Å—Ç–∏—Ç—å:
- CommandHandler("psychologist", ...) - –≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
```

#### 7. Keyboards
```python
# –í keyboards.py —É–¥–∞–ª–∏—Ç—å:
- get_chatgpt_keyboard()
- get_psychologist_keyboard() (–≤–æ–∑–º–æ–∂–Ω–æ)
# –û–±–Ω–æ–≤–∏—Ç—å:
- main_menu_keyboard_layout - —É–±—Ä–∞—Ç—å ChatGPT, –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Sfera AI
```

#### 8. States
```python
# –í handlers/states.py —É–¥–∞–ª–∏—Ç—å:
class UserState:
    CHATGPT_ACTIVE = "chatgpt_active"           # ‚ùå
    CHATGPT_STREAMING = "chatgpt_streaming"     # ‚ùå
    SUPPORT_LLM_ACTIVE = "support_llm_active"   # ‚ùå (–µ—Å–ª–∏ —É–ø—Ä–æ—â–∞–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É)
```

---

## ‚úÖ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π: –ß—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç—å

### ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é:

1. **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã** ‚úÖ
   - `/start`, `/help`
   - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

2. **–ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** ‚úÖ
   - `/tools`
   - –í—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –±—Ä–æ–∫–µ—Ä—ã, —Å–∫—Ä–∏–Ω–µ—Ä—ã –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã

3. **–û–±—É—á–µ–Ω–∏–µ** ‚ö†Ô∏è
   - `/training`
   - **–†–µ—à–µ–Ω–∏–µ:** –õ–∏–±–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –ª–∏–±–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Sfera AI

4. **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** ‚úÖ
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
   - –í–∞–∂–Ω–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤

5. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚úÖ
   - `/admin`, `/status`, `/stats`
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–æ–∫
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

6. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** ‚ö†Ô∏è
   - –£–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ –∫–Ω–æ–ø–∫–∏ "–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º"
   - –ò–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –Ω–∞ Sfera AI

7. **–°–µ—Ä–≤–∏—Å—ã** ‚úÖ
   - State Manager
   - Notifier
   - Broadcast Scheduler
   - Rate Limiter
   - Error Handler
   - Input Validator

8. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
   - –í—Å–µ –º–æ–¥–µ–ª–∏
   - –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### üìâ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –†–∞–∑–º–µ—Ä –∫–æ–¥–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|-----------|-------------|----------|
| ChatGPT handlers | ~525 —Å—Ç—Ä–æ–∫ | ‚ùå –£–¥–∞–ª–∏—Ç—å |
| ChatGPT service | ~315 —Å—Ç—Ä–æ–∫ | ‚ùå –£–¥–∞–ª–∏—Ç—å |
| Support —É–ø—Ä–æ—â–µ–Ω–∏–µ | ~100 —Å—Ç—Ä–æ–∫ | ‚ö†Ô∏è –£–ø—Ä–æ—Å—Ç–∏—Ç—å |
| Psychologist | ~30 —Å—Ç—Ä–æ–∫ | ‚ö†Ô∏è –£–¥–∞–ª–∏—Ç—å/—É–ø—Ä–æ—Å—Ç–∏—Ç—å |
| Mini App | –≤—Å–µ —Ñ–∞–π–ª—ã | üîÑ –ó–∞–º–µ–Ω–∏—Ç—å |
| **–ò–¢–û–ì–û** | **~970 —Å—Ç—Ä–æ–∫** | **–û—á–∏—Å—Ç–∫–∞** |

### ‚ú® –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞

**config.py** (39 320 –±–∞–π—Ç, 841 —Å—Ç—Ä–æ–∫–∞):
- –£–±—Ä–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ChatGPT –º–æ–¥–µ–ª–µ–π
- –£–±—Ä–∞—Ç—å SUPPORT_LLM_* –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Sfera AI (LiveKit, Qdrant)

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è:** ~100-150 —Å—Ç—Ä–æ–∫

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

### üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **–£–¥–∞–ª–∏—Ç—å ChatGPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**
   - ‚úÖ –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ –Ω–∞ Sfera AI
   - üí∞ –≠–∫–æ–Ω–æ–º–∏—è ~840 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
   - ‚ö° –£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

2. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É**
   - ‚úÖ –£–±—Ä–∞—Ç—å LLM-–ø–æ–¥–¥–µ—Ä–∂–∫—É
   - ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —ç—Å–∫–∞–ª–∞—Ü–∏—é –∫ –∞–¥–º–∏–Ω—É
   - üéÅ –ë–æ–Ω—É—Å: –ú–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å Sfera AI –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏

3. **–ó–∞–º–µ–Ω–∏—Ç—å Mini App**
   - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Sfera AI frontend
   - üöÄ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Next.js –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - üéôÔ∏è –ì–æ–ª–æ—Å–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

### ‚ö†Ô∏è –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ

1. **–ò–ò-–ü—Å–∏—Ö–æ–ª–æ–≥**
   - **–í–æ–ø—Ä–æ—Å:** –ù—É–∂–Ω–∞ –ª–∏ –≤–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞, –µ—Å–ª–∏ Sfera AI –∏–º–µ–µ—Ç —Ä–æ–ª—å –ø—Å–∏—Ö–æ–ª–æ–≥–∞?
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫—É, –¥–æ–±–∞–≤–∏—Ç—å –≤ –æ–ø–∏—Å–∞–Ω–∏–µ Sfera AI

2. **–û–±—É—á–µ–Ω–∏–µ**
   - **–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏–µ –≤ Sfera AI?
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å –Ω–∞ –ø–µ—Ä–≤–æ–º —ç—Ç–∞–ø–µ

3. **Cache Service**
   - **–í–æ–ø—Ä–æ—Å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∞–∫—Ç–∏–≤–Ω–æ in-memory –∫–µ—à?
   - **–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

4. **Database Optimizer**
   - **–í–æ–ø—Ä–æ—Å:** –ù—É–∂–µ–Ω –ª–∏ —Å–µ—Ä–≤–∏—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ë–î?
   - **–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å

1. **Broadcast —Å–∏—Å—Ç–µ–º–∞** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ 
2. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** - –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å
4. **–ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
5. **State Manager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
6. **Rate Limiter** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

---

## üîÑ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é

### –¢–µ–∫—É—â–µ–µ –º–µ–Ω—é:
```
[üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ üöÄ]
[–ü—Ä–æ–π—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ] [–ò–ò-–ø—Å–∏—Ö–æ–ª–æ–≥]
[–ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã] [–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π ChatGPT]
[–ü–æ–¥–¥–µ—Ä–∂–∫–∞]
[üëë –ê–¥–º–∏–Ω–∫–∞] (–¥–ª—è –∞–¥–º–∏–Ω–∞)
```

### –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ –º–µ–Ω—é:
```
[ü§ñ –û—Ç–∫—Ä—ã—Ç—å Sfera AI ü§ñ]
[–ü—Ä–æ–π—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)]
[–ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã]
[–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π]
[üëë –ê–¥–º–∏–Ω–∫–∞] (–¥–ª—è –∞–¥–º–∏–Ω–∞)
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" ‚Üí "–û—Ç–∫—Ä—ã—Ç—å Sfera AI"
- ‚ùå –£–¥–∞–ª–∏—Ç—å "–ò–ò-–ø—Å–∏—Ö–æ–ª–æ–≥" (–µ—Å—Ç—å –≤ Sfera AI)
- ‚ùå –£–¥–∞–ª–∏—Ç—å "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π ChatGPT" (–∑–∞–º–µ–Ω—ë–Ω Sfera AI)
- ‚úÖ "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" ‚Üí "–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π" (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è)

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –¥–µ–π—Å—Ç–≤–∏–π

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–£–¥–∞–ª–µ–Ω–∏–µ)

- [ ] –£–¥–∞–ª–∏—Ç—å `handlers/user/chatgpt_handler.py`
- [ ] –£–¥–∞–ª–∏—Ç—å `services/chatgpt_service.py`
- [ ] –£–ø—Ä–æ—Å—Ç–∏—Ç—å `handlers/user/support_handler.py`
- [ ] –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `show_psychologist_menu()` (–∏–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å)
- [ ] –û—á–∏—Å—Ç–∏—Ç—å `mini_app/public/*`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `keyboards.py`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `handlers/states.py`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `main.py` (—É–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
- [ ] –û—á–∏—Å—Ç–∏—Ç—å `config.py` –æ—Ç –Ω–µ–Ω—É–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Sfera AI

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–π Sfera AI –≤ `mini_app/public/`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Sfera AI –≤ `requirements.txt`
- [ ] –û–±—ä–µ–¥–∏–Ω–∏—Ç—å `.env` —Ñ–∞–π–ª—ã
- [ ] –°–æ–∑–¥–∞—Ç—å `handlers/sfera_handlers.py`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π Sfera AI
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—É—Å–∫ LiveKit –∞–≥–µ–Ω—Ç–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

### –≠—Ç–∞–ø 3: –ü—Ä–æ–≤–µ—Ä–∫–∞

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–∞—Å—Å—ã–ª–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É (—É–ø—Ä–æ—â—ë–Ω–Ω—É—é)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Sfera AI Mini App
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ broadcast.py
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª `handlers/admin/broadcast.py` –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä 116 263 –±–∞–π—Ç–∞ (~2500 —Å—Ç—Ä–æ–∫)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏:
  - `broadcast_core.py` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
  - `broadcast_schedule.py` - –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏
  - `broadcast_calendar.py` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å
  - `broadcast_handlers.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è config.py
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª `config.py` –∏–º–µ–µ—Ç 841 —Å—Ç—Ä–æ–∫—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –í—ã–Ω–µ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π JSON
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –º–æ–¥—É–ª—è–º

### 3. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
**–í–∞–∂–Ω–æ:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ ChatGPT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `CHATGPT_ACTIVE`
- –°–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- –£–≤–µ–¥–æ–º–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ChatGPT –æ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ Sfera AI

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ Sfera AI vs —Å—Ç–∞—Ä—ã–π ChatGPT
- –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –§–∏–¥–±–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üéì –í—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ –º—ã –ø–æ–ª—É—á–∏–º –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:

1. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**
   - –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (~970 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
   - –û–¥–∏–Ω AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤–º–µ—Å—Ç–æ —Ç—Ä—ë—Ö —Ä–∞–∑–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
   - –ú–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

2. **–£–ª—É—á—à–µ–Ω–∏–µ UX**
   - –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è AI - Sfera AI
   - –ì–æ–ª–æ—Å–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É
   - –ü–∞–º—è—Ç—å –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
   - –ú—É–ª—å—Ç–∏-—Ä–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (–Ω–∞–ø–∞—Ä–Ω–∏–∫, –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, –ø—Å–∏—Ö–æ–ª–æ–≥)

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
   - –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
   - –ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ë—ã—Å—Ç—Ä–µ–µ deployment

4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**
   - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
   - –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–æ–∫
   - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è)

### ‚ö° –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | ~8000+ | ~7000 | -12.5% |
| AI —Ä–µ—à–µ–Ω–∏–π | 3 (ChatGPT, –ü—Å–∏—Ö–æ–ª–æ–≥, –ü–æ–¥–¥–µ—Ä–∂–∫–∞) | 1 (Sfera AI) | -66% |
| –ö–Ω–æ–ø–æ–∫ –≤ –º–µ–Ω—é | 6-7 | 4-5 | -30% |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | ~15 | ~20 | +33% (Sfera AI) |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | –¢–µ–∫—Å—Ç | –¢–µ–∫—Å—Ç + –ì–æ–ª–æ—Å | +100% |

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—á–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —á–µ–∫–ª–∏—Å—Ç—É

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 01.12.2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ê–≤—Ç–æ—Ä:** AI Assistant
