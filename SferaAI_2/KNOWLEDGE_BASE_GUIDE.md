# üß† –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ë–∞–∑–µ –ó–Ω–∞–Ω–∏–π Sfera AI (Final Unified Version)

–≠—Ç–æ –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—é —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ **–ï–¥–∏–Ω—É—é –ë–∞–∑—É –ó–Ω–∞–Ω–∏–π** (Unified Knowledge Base), –¥–æ—Å—Ç—É–ø–Ω—É—é –¥–ª—è RAG-–∞–≥–µ–Ω—Ç–∞.

---

## üìã –û–±–∑–æ—Ä –ü—Ä–æ—Ü–µ—Å—Å–∞

–í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 3 —ç—Ç–∞–ø–æ–≤:
1.  **–û—á–∏—Å—Ç–∫–∞ (Phase 1):** –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–µ–≥–æ, –¥–µ–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è, –ø–µ—Ä–µ–≤–æ–¥ –≤ Markdown.
2.  **–°–ª–∏—è–Ω–∏–µ (Phase 2):** –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ "–ú–∞—Å—Ç–µ—Ä-–ì–∞–π–¥—ã" (Master Guides).
3.  **–ó–∞–≥—Ä—É–∑–∫–∞ (Ingestion):** –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É Qdrant.

> **‚ö° –í–∞–∂–Ω–æ:** –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–õ–æ–∫–∞–ª—å–Ω–∞—è –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (Local Zero-Shot)**. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç:
> *   –ù–∏–∫–∞–∫–∏—Ö –ª–∏–º–∏—Ç–æ–≤ Google API (–æ—à–∏–±–æ–∫ 429).
> *   –ù–∏–∫–∞–∫–∏—Ö –æ–∂–∏–¥–∞–Ω–∏–π.
> *   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å.

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ VS Code (`Terminal -> New Terminal`).
2.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (–≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ –µ—Å—Ç—å `(venv)`). –ï—Å–ª–∏ –Ω–µ—Ç:
    ```powershell
    .\venv\Scripts\activate
    ```
3.  –ü–æ–ª–æ–∂–∏—Ç–µ –≤–∞—à–∏ –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (`.txt`, `.md`) –≤ –ø–∞–ø–∫—É:
    ```
    data/knowledge_base_unified/raw/
    ```

---

### –®–∞–≥ 1 –∏ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—Ä–∞–∑—É –¥–≤–µ —Ñ–∞–∑—ã: –æ—á–∏—â–∞–µ—Ç —Ñ–∞–π–ª—ã –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ –±–æ–ª—å—à–∏–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥–∞–π–¥—ã.

**–ó–∞–ø—É—Å–∫:**
```powershell
python scripts/process_unified_kb.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
*   –í –ø–∞–ø–∫–µ `data/knowledge_base_unified/` –ø–æ—è–≤—è—Ç—Å—è —Ñ–∞–π–ª—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `MASTER_...`.
*   –ü—Ä–∏–º–µ—Ä: `MASTER_–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è_–¢—Ä–µ–π–¥–∏–Ω–≥–∞.md`.
*   –≠—Ç–æ –≥–æ—Ç–æ–≤—ã–µ, —á–∏—Å—Ç—ã–µ –∑–Ω–∞–Ω–∏—è.

---

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –ë–∞–∑—É (Ingestion)

–≠—Ç–æ—Ç —ç—Ç–∞–ø —á–∏—Ç–∞–µ—Ç "–ú–∞—Å—Ç–µ—Ä-–ì–∞–π–¥—ã", –Ω–∞—Ä–µ–∑–∞–µ—Ç –∏—Ö –Ω–∞ –∫—É—Å–æ—á–∫–∏, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–º—ã (–¢—Ä–µ–π–¥–∏–Ω–≥/–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è, –†–∏—Å–∫/–°—Ç—Ä–∞—Ç–µ–≥–∏–∏) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Qdrant.

**1. –°–±—Ä–æ—Å –±–∞–∑—ã (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã):**
*–í–Ω–∏–º–∞–Ω–∏–µ: –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏ –±–æ—Ç–∞!*
```powershell
python scripts/reset_qdrant.py
```
*(–ù–∞–ø–∏—à–∏—Ç–µ `yes` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter)*

**2. –ó–∞–≥—Ä—É–∑–∫–∞:**
```powershell
python scripts/ingest_local_files.py
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:**
*   `INFO - Found 26 files...` ‚Äî –Ω–∞—à–µ–ª —Ñ–∞–π–ª—ã.
*   `INFO - Local Classifier initialized` ‚Äî –∑–∞–ø—É—Å—Ç–∏–ª –ª–æ–∫–∞–ª—å–Ω—ã–π –ò–ò.
*   `INFO - –£—Å–ø–µ—à–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ...` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–∏–ª —Ç–µ–º—ã.
*   `SUCCESS` ‚Äî —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω.

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ (–¢–µ—Å—Ç)

–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–æ—Ç "–≤–∏–¥–∏—Ç" –∑–Ω–∞–Ω–∏—è, –≤—ã –º–æ–∂–µ—Ç–µ:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç–∞** –∏ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –µ—Å—Ç—å –æ—Ç–≤–µ—Ç –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é –≤ Qdrant Dashboard** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ–±–ª–∞–∫–æ)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
–ù–µ –∑–∞–ø—É—â–µ–Ω Docker —Å Qdrant –∏–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±–ª–∞–∫—É.
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `QDRANT_HOST` –∏ `QDRANT_API_KEY` –≤ —Ñ–∞–π–ª–µ `.env`.

### –§–∞–π–ª—ã –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Qdrant
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É `data/knowledge_base_unified/processed/`. –ï—Å–ª–∏ —Ñ–∞–π–ª—ã —Ç–∞–º ‚Äî –∑–Ω–∞—á–∏—Ç, —Å–∫—Ä–∏–ø—Ç –∏—Ö —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª. –ß—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–Ω–æ–≤–æ, –≤–µ—Ä–Ω–∏—Ç–µ –∏—Ö –≤ –∫–æ—Ä–µ–Ω—å –ø–∞–ø–∫–∏ `data/knowledge_base_unified/` –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `reset_qdrant.py` (–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–∑–∞–ª–∏—Ç—å –≤—Å—ë —Å –Ω—É–ª—è).

---

## ÔøΩ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ?

*   **–ò—Å—Ö–æ–¥–Ω–∏–∫–∏:** `data/knowledge_base_unified/raw/`
*   **–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ:** `data/knowledge_base_unified/processed/` (–ê—Ä—Ö–∏–≤)
*   **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–∞–∑–∞:** –í –æ–±–ª–∞–∫–µ Qdrant (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –≤ Docker, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫).

> **–°–æ–≤–µ—Ç:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –ø–∞–ø–∫–∏ `data/knowledge_base_unified`, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –Ω–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã.
